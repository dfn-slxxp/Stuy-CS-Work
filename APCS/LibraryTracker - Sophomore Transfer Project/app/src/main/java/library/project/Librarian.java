/*
 * This source file was generated by the Gradle 'init' task
 */
package library.project;

import java.io.FileInputStream;
import java.io.IOException;
import java.util.Scanner;

public class Librarian {
    
    public static void main(String[] args) {

    Scanner scanner = new Scanner(System.in);

    System.out.println("Please input path to CSV file containing Library Items: (default to Items.csv) ");
    String itemsPath = scanner.nextLine().trim();

    System.out.println("Please input path to CSV file containing Library Members: (default to Members.csv) ");
    String membersPath = scanner.nextLine().trim();

    System.out.println("Please input path to CSV file containing Library Checkouts: (default to Checkouts.csv) ");
    String checkoutsPath = scanner.nextLine().trim();

    scanner.close();

    Library library = new Library();

    try {

        if (itemsPath.isEmpty()) {
            library.loadItems(Librarian.class.getClassLoader().getResourceAsStream("Items.csv"));
        } else {
            library.loadItems(new FileInputStream(itemsPath));
        }
        
        if (membersPath.isEmpty()) {
            library.loadMembers(Librarian.class.getClassLoader().getResourceAsStream("Members.csv"));
        } else {
            library.loadMembers(new FileInputStream(membersPath));
        }
        
        if (checkoutsPath.isEmpty()) {
            library.loadCheckouts(Librarian.class.getClassLoader().getResourceAsStream("Checkouts.csv"));
        } else {
            library.loadCheckouts(new FileInputStream(checkoutsPath));
        }
        
        System.out.println("Library data loaded successfully!");
        
    } catch (IOException e) {
        System.err.println("Error reading file: " + e.getMessage());
    }

    library.printMembersWithCheckOuts();

    library.printCheckedOutLongest();

    library.printDueSoonest();

    }

}
